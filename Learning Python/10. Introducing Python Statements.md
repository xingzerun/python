## 重访Python程序结构
本章将深入学习：  

1. 程序由模块构成。
2. 模块包含语句。
3. 语句包含表达式。
4. 表达式建立并处理对象。

Python的语法实质上是由语句和表达式组成的。表达式处理对象并嵌套在语句中。语句编码实现程序操作中更大的逻辑关系——它们使用并引导表达式处理对象。此外，语句还是对象生成的地方，有些语句会生成全新的对象类型（函数、类等）。语句总存在于模块中，而模块本身则又是由语句来管理的。

## Python的语句
* 赋值语句以不同的语法形式呈现，如：基本的、序列的、扩展的的等等。
* 从技术上讲，print在Python 3.0中不是一个保留字，也不是一条语句，而是一个内置的函数调用；由于它几乎总是作为一条表达式语句运行（即，自己单独一行），通常将其看做是一条语句类型。
* yield实际上是一个表达式，而不是一条语句，与Python 2.5中一样；就像print一样，它通常单独用在一行中，因此，它包含在本表达式中，但是脚本偶尔会赋值或使用其结果。与print不同，作为一个表达式，yield也是一个保留字。

## Python增加了什么
新的语法成分是冒号(:)
## Python删除了什么
**括号是可选的**  

**终止行就是终止语句**  
不会出现在Python程序代码中的第二个重要的语法成分就是分号  

**缩进的结束就是代码块的结束**  
Python删除的第三个也是最后一个语法成分  
所谓缩进，是指这里的两个嵌套语句至左侧的所有空白
## 为什么使用缩进  
可读性很重要，缩进又是可读性的重要元素。  
Python是WYSIWYG语言——所见即所得(what you see is what you get)。  

作为首要规则，不应该在同一段Python代码中混合使用制表符和空格；在一段给定的代码中，使用制表符或空格，但不要二者都用（Python 3.0现在发布了一个关于使用制表符和空格的不一致性的错误）。  
但是，不应该在任何结构化语言中混合使用制表符和空格来缩进——如果下一位程序员用与你不同的自己的编辑器来显示制表符，这样的代码可能会引发较大的可读性问题。
## 几个特殊实例
在Python的语法模型中：

* 一行的结束就是终止该行语句（没有分号）。
* 嵌套语句是代码块并且与实际的缩进相关（没有大括号）。
这些规则几乎涵盖了实际中你写出或看到的所有Python程序。然而，Python也提供了一些特殊用途的规则来调整语句和嵌套语句的代码块。
### 语句规则的特殊情况
一行挤进多个语句的情况：

	a = 1; b = 2; print(a+b) # Three statements on one line
这是Python中唯一需要分号的地方——作为语句界定符。

语句的另一个特殊规则基本上是相反的——可以让一个语句的范围横跨多行。为了能实现这一操作，你只需要用一对括号把语句括起来就可以了：括号（()）、方括号（[]）或者字典的大括号（{}）。例如，连续几行列表的常量：

	mlist = [111,
             222,
             333]
括号可以包含一切

	X = (A + B +
         c + D)
这种技巧同样适用于复合语句。不管你在什么地方需要写一个大型的表达式，只要把它括在括号里，就可以在下一行接着写：  

	if (A == 1 and
	    B == 2 and
	    C == 3):
               print('spam' * 3)
有一条比较老的规则也允许我们跨越数行——当上一行以反斜杠结束时，可以在下一行继续：

	X = A + B + \		# An error-prone alternative
		C + D
但这种方法已经过时了，关注并维护反斜杠比较困难，而且这种做法相当脆弱（反斜杠之后可能没空格）。反斜杠时常在#define的宏里面使用，回到了C语言。
### 代码块规则特殊的实例
嵌套代码块中的语句一般都与向右缩进相同的量相关联。这里给出一个特殊案例，说明复合语句的主体可以出现在Python的首行冒号之后。

	if x > y: print(x)
不过，只有当复合语句本身不包含任何复合语句的时候，才能这样做。
语句体可以由几个简单语句组成并用分号隔开，但这种做法已经越来越不受欢迎了。

一些代码探查和覆盖工具能够把压缩到单个行中的多条语句和一个单行复合语句的头部和主体区分开来。  
然而，实际中这些规则有一个非常重要而且常见的例外（中断循环的单行if语句的使用）需要看一下。
## 简短实例：交互循环
### 一个简单的交互式循环
需要写一个标准的“读取/计算/打印”的循环程序。

在Python中，这种交互式循环的典型模板代码可能会像这样。

	while True:
	    reply = input('Enter text:')
	    if reply == 'stop':break
	    print(reply.uuper())
这段代码使用了一些新概念，如下所示：
* 这段代码利用了Python的while循环
* input内置函数
* 利用嵌套代码块特殊规则的单行if语句也在这里出现：if语句体出现在冒号之后的首行，而并不是在首行的下一行缩进。（感觉没什么用。。。）
* 最后，break语句用于立即退出循环。

事实上，这样的语句组合实质上是指：从用户那里读取一行并用大写字母打印，直到用户输入“stop”为止。

需要注意的是，在while首行下面嵌套的三行的缩进是相同的。由于它们是以垂直的方式对齐的，所以它们是和while测试相关联的并重复运行的代码块。源文件的结束或是一个缩进较少的语句都能够终止这个循环体块。
## 对用户输入数据做数学运算
	
	while True:
        reply = input('Enter text:')
        if reply == 'stop': break
        print(int(reply) ** 2)
    print('Bye')
## 用测试输入数据来处理错误
到目前为止只需要注意当输入无效时会发生什么现象。

如果想要我们的脚本够健全，可以事先用字符串对象的isdigit方法检查字符串的内容。

	>>> S = '123'
	>>> T = 'xxx'
	>>> S.isdigit(), T.isdigit()
	(True, False)
下面这个新版本的交互式脚本使用全方位的if语句来避免错误导致的异常。

	while True:
	    reply = input('Enter text:')
	    if reply == 'stop':
	        break
	    elif not reply.isdigit():
	    	print('Bad!' * 8)
	    else:
	    	print(int(reply) ** 2)
	   print('Bye')















































